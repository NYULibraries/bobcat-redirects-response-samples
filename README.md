# bobcat-redirects-response-samples

Response samples generated by the [bobcat\-redirects\-sampler](https://github.com/NYULibraries/bobcat-redirects-sampler)

## Test case group: libguides

This initial sampling was done in 5 batches.  Multiple runs were necessary due
the need to restart/resume after interruptions caused by network connectivity
problems.  Also, after the first full pass was completed the test case URL filter
was improved to match http as well as https URLs in the test case file(s), and
these were
sampled in pickup runs.

Normally after a run is terminated prematurely, the full sample would be run again
in "resume" mode where any test cases not already in the _index.json_ file would be
sampled again, which would have included hundreds of test cases which failed due
to timeout.
Due to tight time constraints for this initial sampling, instead of resuming
with the full list of test case paths, subsequent runs often instead used
remainder test case files, ignoring previous failed/timed-out test cases.

The response sample HTML files, failure screenshots, and _index.json_ files
were merged to appear as if a single batch or multiple batches in "resume" mode
were run.

* [bobcat\-redirects\-sampler](https://github.com/NYULibraries/bobcat-redirects-sampler) commit(s): various commits starting from the initial commit up to
[39f50b7c1a48acf02e264bf486747c7dcc68d6c5](https://github.com/NYULibraries/bobcat-redirects-sampler/tree/39f50b7c1a48acf02e264bf486747c7dcc68d6c5)
* [bobcat-redirects](https://github.com/NYULibraries/bobcat-redirects) commit
deployed to the sampled dev Bobcat endpoint was most likely this one:
[b09118f4cbd72e2224104ef8b070b639174eca80](https://github.com/NYULibraries/bobcat-redirects/tree/b09118f4cbd72e2224104ef8b070b639174eca80)

## Test case group: libguides-failed-primo-ve

The permalink paths that failed in the "libguides" test case group were sampled using https://bobcatdev.library.nyu.edu, which is not technically a `bobcat-redirects` instance, but in order to get the sample data quickly we treated it as such.

The initial sampling was done in 3 batches.  Causes of need for restart/resume not currently known.
See "libguides" test case group explanation for why we split into multiple batches instead of resuming the sampling against the full test case group.

After the first full pass through all test cases, there were 7 cases that were retried because the failure screenshots showed white screens of death which suggested that the 2 minute timeout was too short for those requests.  The timeout for the retry pass was 5 minutes.  Even with that extended timeout, 3 samples still failed.  All 3 URLs were tested manually and redirected to https://bobcatdev.library.nyu.edu/primo-explore/, which responds with a white screen with loading diamonds and no subsequent loading of content.  This is expected, since it appears that that endpoint requires at minimum, "search?vid=[VID]".

The response sample HTML files, failure screenshots, and _index.json_ files
were merged to appear as if a single batch or multiple batches in "resume" mode
were run.

* [bobcat\-redirects\-sampler](https://github.com/NYULibraries/bobcat-redirects-sampler) commit: [e5c2e128c8739fb78ade15f43aabdd6784480d30](https://github.com/NYULibraries/bobcat-redirects-sampler/tree/e5c2e128c8739fb78ade15f43aabdd6784480d30)

## Test case group: libguides-succeedded-primo-ve

The permalink paths that succeeded in the "libguides" test case group were sampled using https://bobcatdev.library.nyu.edu, which is not technically a `bobcat-redirects` instance, but in order to get the sample data quickly we treated it as such.

This is the first test group using the new sampler code which records an entry for failures in the _index.json_ file in order to do a convenient resume of an interrupted batch.  Interruptions occurred for this sampling run due to dev BobCat outages caused by a ConEd power issue, and to a bug in the sampler where in the rare event of a playwright screenshot failure an uncaught runtime error terminated the sampling.  This sampler bug was fixed in the middle of this test case group job, which is why there is more than one commit associated with this sampling group.

* [bobcat\-redirects\-sampler](https://github.com/NYULibraries/bobcat-redirects-sampler) commit(s):
  * [500cc9149520216e153f5ac38cc27e80a72f41eb](https://github.com/NYULibraries/bobcat-redirects-sampler/tree/500cc9149520216e153f5ac38cc27e80a72f41eb)
  * [dead13b5fce82816ab28d9037229a1770fe0049f](https://github.com/NYULibraries/bobcat-redirects-sampler/tree/dead13b5fce82816ab28d9037229a1770fe0049f)
